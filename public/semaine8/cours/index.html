<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="html">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.135.0">
    <meta name="generator" content="Relearn 7.3.1">
    <meta name="description" content="Planification des tâches avec Cron Le programme cron permet de planifier des tâches automatiquement sur un système Linux. Chaque utilisateur peut définir ses propres tâches planifiées, qui sont stockées par défaut dans :
/var/spool/cron/Qu’est-ce qu’une crontab ? Qu’est-ce qu’une Crontab ?Une crontab (abréviation de cron table) est un fichier de configuration utilisé par le planificateur de tâches cron sous Unix/Linux. Il permet d’exécuter automatiquement des commandes ou des scripts à des moments spécifiés.">
    <meta name="author" content="">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="CRON et DNF :: 420-ZG4-MO LINUX">
    <meta name="twitter:description" content="Planification des tâches avec Cron Le programme cron permet de planifier des tâches automatiquement sur un système Linux. Chaque utilisateur peut définir ses propres tâches planifiées, qui sont stockées par défaut dans :
/var/spool/cron/Qu’est-ce qu’une crontab ? Qu’est-ce qu’une Crontab ?Une crontab (abréviation de cron table) est un fichier de configuration utilisé par le planificateur de tâches cron sous Unix/Linux. Il permet d’exécuter automatiquement des commandes ou des scripts à des moments spécifiés.">
    <meta property="og:url" content="https://example.org/semaine8/cours/index.html">
    <meta property="og:site_name" content="420-ZG4-MO LINUX">
    <meta property="og:title" content="CRON et DNF :: 420-ZG4-MO LINUX">
    <meta property="og:description" content="Planification des tâches avec Cron Le programme cron permet de planifier des tâches automatiquement sur un système Linux. Chaque utilisateur peut définir ses propres tâches planifiées, qui sont stockées par défaut dans :
/var/spool/cron/Qu’est-ce qu’une crontab ? Qu’est-ce qu’une Crontab ?Une crontab (abréviation de cron table) est un fichier de configuration utilisé par le planificateur de tâches cron sous Unix/Linux. Il permet d’exécuter automatiquement des commandes ou des scripts à des moments spécifiés.">
    <meta property="og:locale" content="en_us">
    <meta property="og:type" content="website">
    <meta itemprop="name" content="CRON et DNF :: 420-ZG4-MO LINUX">
    <meta itemprop="description" content="Planification des tâches avec Cron Le programme cron permet de planifier des tâches automatiquement sur un système Linux. Chaque utilisateur peut définir ses propres tâches planifiées, qui sont stockées par défaut dans :
/var/spool/cron/Qu’est-ce qu’une crontab ? Qu’est-ce qu’une Crontab ?Une crontab (abréviation de cron table) est un fichier de configuration utilisé par le planificateur de tâches cron sous Unix/Linux. Il permet d’exécuter automatiquement des commandes ou des scripts à des moments spécifiés.">
    <meta itemprop="wordCount" content="1201">
    <title>CRON et DNF :: 420-ZG4-MO LINUX</title>
    <link href="/semaine8/cours/index.xml" rel="alternate" type="application/rss+xml" title="CRON et DNF :: 420-ZG4-MO LINUX">
    <link href="/css/fontawesome-all.min.css?1743212981" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/fontawesome-all.min.css?1743212981" rel="stylesheet"></noscript>
    <link href="/css/auto-complete.css?1743212981" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/auto-complete.css?1743212981" rel="stylesheet"></noscript>
    <link href="/css/perfect-scrollbar.min.css?1743212981" rel="stylesheet">
    <link href="/css/theme.min.css?1743212981" rel="stylesheet">
    <link href="/css/format-html.min.css?1743212981" rel="stylesheet" id="R-format-style">
    <script>
      window.relearn = window.relearn || {};
      window.relearn.relBasePath='..\/..';
      window.relearn.relBaseUri='..\/..';
      window.relearn.absBaseUri='https:\/\/example.org';
      window.relearn.min = `.min`;
      window.relearn.disableAnchorCopy=false;
      window.relearn.disableAnchorScrolling=false;
      // variant stuff
      window.relearn.themevariants = [ 'auto' ];
      window.relearn.customvariantname = "my-custom-variant";
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.localStorage.setItem(window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.localStorage.getItem(window.relearn.absBaseUri + "/variant");
        var select = document.querySelector("#R-select-variant");
        if (select) {
          select.value = variant;
        }
      }
      window.relearn.initVariant = function() {
        var variant = window.localStorage.getItem(window.relearn.absBaseUri + "/variant") ?? "";
        if( variant == window.relearn.customvariantname ){
        }else if( !variant || !window.relearn.themevariants.includes(variant) ){
          variant = window.relearn.themevariants[0];
          window.localStorage.setItem(window.relearn.absBaseUri + "/variant", variant);
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
    </script>
  </head>
  <body class="mobile-support html" data-url="/semaine8/cours/index.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide"><button class="topbar-control" onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button>
            </div>
            <div class="topbar-button topbar-button-toc" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="Table of Contents (CTRL&#43;ALT&#43;t)"><i class="fa-fw fas fa-list-alt"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
<nav class="TableOfContents">
  <ul>
    <li><a href="#planification-des-tâches-avec-cron">Planification des tâches avec <em>Cron</em></a>
      <ul>
        <li><a href="#quest-ce-quune-crontab-">Qu&rsquo;est-ce qu&rsquo;une crontab ?</a></li>
        <li><a href="#commandes-principales-de-cron">Commandes principales de <em>cron</em></a></li>
        <li><a href="#syntaxe-dune-tâche-cron">Syntaxe d&rsquo;une tâche <em><strong>cron</strong></em></a></li>
        <li><a href="#explication-des-champs-de-planification-le-moment-auquel-la-tâche-doit-sexécuter">Explication des champs de planification (le moment auquel la tâche doit s&rsquo;exécuter)</a></li>
        <li><a href="#exemples-dutilisation">Exemples d&rsquo;utilisation</a></li>
      </ul>
    </li>
    <li><a href="#gestion-des-paquets-avec-dnf">Gestion des paquets avec <em>dnf</em></a>
      <ul>
        <li><a href="#les-dépôts">Les dépôts</a></li>
        <li><a href="#affichage-des-dépôts-de-lutilisateur">Affichage des dépôts de l&rsquo;utilisateur</a></li>
        <li><a href="#installation-dun-paquet">Installation d&rsquo;un paquet</a></li>
        <li><a href="#mettre-à-jour-le-système">Mettre à jour le système</a></li>
        <li><a href="#recherche-de-paquets">Recherche de paquets</a></li>
        <li><a href="#désinstaller-un-paquet">Désinstaller un paquet</a></li>
        <li><a href="#gestion-des-groupes-de-paquets">Gestion des groupes de paquets</a></li>
        <li><a href="#utiliser-le-shell-dnf">Utiliser le shell <em>dnf</em></a></li>
      </ul>
    </li>
  </ul>
</nav>
                </div>
              </div>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="/index.html"><span itemprop="name">420-ZG4-MO Système d’exploitation Linux</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="/semaine8/index.html"><span itemprop="name">DNF et CRON</span></a><meta itemprop="position" content="2">&nbsp;>&nbsp;</li><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><span itemprop="name">CRON et DNF</span><meta itemprop="position" content="3"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-prev" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/semaine8/index.html" title="DNF et CRON (🡐)"><i class="fa-fw fas fa-chevron-left"></i></a>
            </div>
            <div class="topbar-button topbar-button-next" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/semaine8/atelier/index.html" title="ATELIER #8: Dnf et Cron (🡒)"><i class="fa-fw fas fa-chevron-right"></i></a>
            </div>
            <div class="topbar-button topbar-button-more" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="More"><i class="fa-fw fas fa-ellipsis-v"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
                  <div class="topbar-area topbar-area-more" data-area="more">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable semaine8" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
  </header>

<h1 id="cron-et-dnf">CRON et DNF</h1>

<h2 id="planification-des-tâches-avec-cron">Planification des tâches avec <em>Cron</em></h2>
<p>Le programme <strong>cron</strong> permet de planifier des tâches automatiquement sur un système Linux. Chaque utilisateur peut définir ses propres tâches planifiées, qui sont stockées par défaut dans :</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>/var/spool/cron/</code></pre></div>
<h3 id="quest-ce-quune-crontab-">Qu&rsquo;est-ce qu&rsquo;une crontab ?</h3>

<details open class=" box cstyle notices info">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-info-circle"></i> 
    Qu&rsquo;est-ce qu&rsquo;une Crontab ?
  </summary>
  <div class="box-content">
<p>Une <em><strong>crontab</strong></em> (abréviation de <em><strong>cron table</strong></em>) est un fichier de configuration utilisé par le planificateur de tâches <em><strong>cron</strong></em> sous Unix/Linux. Il permet d&rsquo;exécuter automatiquement des commandes ou des scripts à des moments spécifiés.</p>
  </div>
</details>
<p>Il est possible d&rsquo;utiliser un fichier personnalisé pour la planification. Le <em><strong>deamon</strong></em> responsable de l&rsquo;exécution des tâches est <strong>crond</strong>.</p>

<details open class=" box cstyle notices info">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-info-circle"></i> 
    Qu&rsquo;est-ce qu&rsquo;un Deamon ?
  </summary>
  <div class="box-content">
<p>Un <em><strong>deamon</strong></em> est un type de programme informatique, un processus ou un ensemble de processus qui s&rsquo;exécute en <strong>arrière-plan</strong> plutôt que sous le contrôle direct d&rsquo;un utilisateur.</p>
  </div>
</details>
<h3 id="commandes-principales-de-cron">Commandes principales de <em>cron</em></h3>
<table>
  <thead>
      <tr>
          <th style="text-align: left">Action</th>
          <th style="text-align: left">Commande</th>
          <th style="text-align: left">Résultat / Remarque</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left"><strong>Afficher ou lancer les tâches planifiées de l&rsquo;utilisateur actuel</strong></td>
          <td style="text-align: left"><code>crontab -l</code></td>
          <td style="text-align: left">- Affiche la liste des tâches planifiées.<br>- Si aucune tâche n&rsquo;est planifiée, affiche <em><strong>no crontab for user</strong></em>.</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>Supprimer toutes les tâches planifiées de l&rsquo;utilisateur</strong></td>
          <td style="text-align: left"><code>crontab -r</code></td>
          <td style="text-align: left"><strong><span style="color:red;">Action irréversible</span></strong>. Toutes les tâches sont supprimées définitivement.</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>Gérer la crontab d&rsquo;un autre utilisateur</strong> (nécessite <em>root</em>)</td>
          <td style="text-align: left"><code>sudo crontab -u &lt;utilisateur&gt; -l</code> <br> <strong>Exemple</strong>: <code>sudo crontab -u ndesmangles -l</code></td>
          <td style="text-align: left">- <code>-u &lt;utilisateur&gt;</code> : Spécifie l&rsquo;utilisateur ciblé.<br>- <code>-l</code> : Liste les tâches de cet utilisateur.</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>Charger ou remplacer une tâche planifiée à partir d&rsquo;un fichier</strong></td>
          <td style="text-align: left"><code>crontab &lt;fichier&gt;</code> <br> <strong>Exemple</strong> : <code>crontab ma_tache.txt</code></td>
          <td style="text-align: left">- Charge les tâches depuis <code>&lt;fichier&gt;</code>.<br> <strong><span style="color:red;">Chaque nouvelle utilisation écrase les tâches précédentes.</span></strong></td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>Modifier la crontab existante ou en créer une nouvelle</strong></td>
          <td style="text-align: left"><code>crontab -e</code></td>
          <td style="text-align: left">- Ouvre la crontab dans un éditeur de texte (ex: Vim).<br>- Permet d&rsquo;ajouter, modifier ou supprimer des tâches.</td>
      </tr>
  </tbody>
</table>
<!--

| Action | Commande | Résultat / Remarque |
|--------|---------|---------------------|
| **Afficher ou lancer les tâches planifiées de l'utilisateur actuel** | `crontab -l` | - Affiche la liste des tâches planifiées.<br>- Si aucune tâche n'est planifiée, affiche ***no crontab for user***. |
| **Supprimer toutes les tâches planifiées de l'utilisateur** | `crontab -r` | **<span style="color:red;">Action irréversible**</span>. Toutes les tâches sont supprimées définitivement. |
| **Gérer la crontab d'un autre utilisateur** (nécessite *root*) | `sudo crontab -u <utilisateur> -l` <br> **Exemple**: `sudo crontab -u ndesmangles -l`| - `-u <utilisateur>` : Spécifie l'utilisateur ciblé.<br>- `-l` : Liste les tâches de cet utilisateur. |
| **Charger ou remplacer une tâche planifiée à partir d'un fichier** | `crontab <fichier>` <br> **Exemple** : `crontab ma_tache.txt`| - Charge les tâches depuis `<fichier>`.<br> **<span style="color:red;">Chaque nouvelle utilisation **écrase** les tâches précédentes.</span>** |
| **Modifier la crontab existante ou en créer une nouvelle** | `crontab -e` | - Ouvre la crontab dans un éditeur de texte (ex: Vim).<br>- Permet d'ajouter, modifier ou supprimer des tâches. |


#### Afficher les tâches planifiées de l'utilisateur actuel
```bash
crontab -l
```
**Résultat** : 
- Si aucune tâche n'est planifiée, le message ***no crontab for user*** s'affiche.
- Sinon, la liste des tâches planifiées s'affiche (voir un exemple ICI)

#### Supprimer toutes les tâches planifiées de l'utilisateur
```bash
crontab -r
```

<details open class=" box cstyle notices warning">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-skull-crossbones"></i> 
    Attention
  </summary>
  <div class="box-content">
<p><strong>Cette action est irréversible</strong>.</p>
  </div>
</details>


#### Gérer la crontab d'un autre utilisateur (nécessite d'être *root*)
```bash
sudo crontab -u <utilisateur> -l
```

`-u <utilisateur>` : Spécifie l'utilisateur dont on veut voir les tâches cron 
`-l` : Liste les entrées de la crontab de cet utilisateur

**Exemple** :
```bash
sudo crontab -u ndesmangles -l
```


#### Charger ou remplacer une tâche planifiée à partir d'un fichier
```bash
crontab <fichier>
```
**Exemple** :
```bash
crontab ma_tache.txt
```


<details open class=" box cstyle notices note">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-exclamation-circle"></i> 
    À savoir&hellip;
  </summary>
  <div class="box-content">
<ul>
<li>Chaque nouvelle utilisation de <code>crontab &lt;fichier&gt;</code> écrase toutes les tâches planifiées précédentes.</li>
</ul>
  </div>
</details>

#### Modifier la *crontab* existante ou en créer une nouvelle
```bash
crontab -e
```

**Résultat** : La crontab s'ouvre dans l'éditeur de texte (ex: Vim)
-->
<h3 id="syntaxe-dune-tâche-cron">Syntaxe d&rsquo;une tâche <em><strong>cron</strong></em></h3>
<p>Une tâche <em><strong>cron</strong></em> est définie selon le format suivant :</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>* * * * * tâche_à_exécuter</span></span></code></pre></div>
<p>Chaque ligne contient :</p>
<ul>
<li><strong>Planification</strong> (Les cinq étoiles représentent 5 champs)</li>
<li><strong>Tâche</strong> (une commande <em>Bash</em> ou de préférence un script)</li>
</ul>
<p><strong>Exemple :</strong></p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#ae81ff">15</span> * * * * bash /home/ndesmangles/monscript.sh
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">30</span> <span style="color:#ae81ff">0</span> * * * bash /usr/local/bin/autrescript.sh
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span> * * * * echo <span style="color:#e6db74">&#34;Nouvelle heure&#34;</span> &gt;&gt; /home/ndesmangles/heure.txt</span></span></code></pre></div>

<details open class=" box cstyle notices warning">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-exclamation-triangle"></i> 
    Important
  </summary>
  <div class="box-content">
<p>Les scripts doivent être spécifiés avec leur <strong>chemin absolu</strong>.</p>
  </div>
</details>
<h3 id="explication-des-champs-de-planification-le-moment-auquel-la-tâche-doit-sexécuter">Explication des champs de planification (le moment auquel la tâche doit s&rsquo;exécuter)</h3>
<table>
  <thead>
      <tr>
          <th style="text-align: center">No du champ *</th>
          <th style="text-align: left">Rôle du champ</th>
          <th style="text-align: center">Valeurs possibles</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: center"><strong>1<sup>er</sup></strong></td>
          <td style="text-align: left"><strong>Minute</strong></td>
          <td style="text-align: center">0 à 59</td>
      </tr>
      <tr>
          <td style="text-align: center"><strong>2<sup>e</sup></strong></td>
          <td style="text-align: left"><strong>Heure</strong></td>
          <td style="text-align: center">0 à 23</td>
      </tr>
      <tr>
          <td style="text-align: center"><strong>3<sup>e</sup></strong></td>
          <td style="text-align: left"><strong>Jour du mois</strong></td>
          <td style="text-align: center">1 à 31</td>
      </tr>
      <tr>
          <td style="text-align: center"><strong>4<sup>e</sup></strong></td>
          <td style="text-align: left"><strong>Mois de l&rsquo;année</strong></td>
          <td style="text-align: center">1 à 12</td>
      </tr>
      <tr>
          <td style="text-align: center"><strong>5<sup>e</sup></strong></td>
          <td style="text-align: left"><strong>Jour de semaine</strong></td>
          <td style="text-align: center">0 et 7 = dimanche <br> 1 = lundi<br> 2 = mardi, etc.</td>
      </tr>
  </tbody>
</table>
<h4 id="opérateurs-utiles">Opérateurs utiles</h4>
<ul>
<li><code>*</code> : chaque unité de temps.</li>
<li><code>,</code> : énumération de valeurs (<code>1,5,10</code>).</li>
<li><code>-</code> : intervalle (<code>1-10</code>).</li>
<li><code>*/n</code> : exécution périodique (<code>*/2</code> signifie toutes les 2 unités).</li>
</ul>
<h3 id="exemples-dutilisation">Exemples d&rsquo;utilisation</h3>
<p>Exécuter un script <strong>chaque jour à 14h30</strong> :</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#ae81ff">30</span> <span style="color:#ae81ff">14</span> * * * bash /chemin_absolu/script.sh</span></span></code></pre></div>
<p>Exécuter un script <strong>chaque heure (à la 25e minute) en mars</strong> :</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#ae81ff">25</span> * * <span style="color:#ae81ff">3</span> * bash /chemin_absolu/script.sh</span></span></code></pre></div>
<p>Exécuter un script <strong>une fois par heure entre 9h et 17h (9h15, 10h15, &hellip;, 17h15)</strong> :</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#ae81ff">15</span> 9-17 * * * bash /chemin_absolu/script.sh</span></span></code></pre></div>
<p>Exécuter un script <strong>à midi les lundis, mercredis et vendredis</strong> :</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#ae81ff">0</span> <span style="color:#ae81ff">12</span> * * 1,3,5 bash /chemin_absolu/script.sh</span></span></code></pre></div>
<p>Exécuter un script <strong>toutes les deux heures</strong> :</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#ae81ff">0</span> */2 * * * bash /chemin_absolu/script.sh</span></span></code></pre></div>
<hr>
<h2 id="gestion-des-paquets-avec-dnf">Gestion des paquets avec <em>dnf</em></h2>
<p>Sur Linux, il existe plusieurs façons d&rsquo;installer une application :</p>
<ol>
<li><strong>Compiler manuellement</strong> à partir des sources (long et complexe).</li>
<li><strong>Utiliser un paquet RPM</strong> (résolution des dépendances nécessaire).</li>
<li><strong>Utiliser</strong> <em><strong>dnf</strong></em> (méthode <strong>recommandée</strong>, gère les dépendances automatiquement).</li>
</ol>
<h3 id="les-dépôts">Les dépôts</h3>

<details open class=" box cstyle notices info">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-info-circle"></i> 
    Définition
  </summary>
  <div class="box-content">
<p>Les dépôts sont des <strong>serveurs où <code>dnf</code> télécharge les paquets et leurs dépendances</strong>. Ils sont configurés dans le répertoire :</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>/etc/yum.repos.d/</code></pre></div>
  </div>
</details>
<h3 id="affichage-des-dépôts-de-lutilisateur">Affichage des dépôts de l&rsquo;utilisateur</h3>
<table>
  <thead>
      <tr>
          <th style="text-align: left">Action</th>
          <th style="text-align: left">Commande</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left"><strong>Afficher les dépôts actifs</strong></td>
          <td style="text-align: left"><code>dnf repolist</code></td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>Afficher tous les dépôts (actifs et inactifs)</strong></td>
          <td style="text-align: left"><code>dnf repolist all</code></td>
      </tr>
  </tbody>
</table>
<p>Si un paquet n&rsquo;est pas disponible, il peut être nécessaire d&rsquo;ajouter son dépôt.</p>

<details open class=" box cstyle notices info">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-info-circle"></i> 
    Information
  </summary>
  <div class="box-content">
<p>Sur Ubuntu, la commande <em><strong>dnf</strong></em> n&rsquo;est pas disponible par défaut, car Ubuntu utilise <em><strong>apt</strong></em> (<em>Advanced Package Tool</em>) pour la gestion des paquets et non <em><strong>dnf</strong></em> qui est utilisé par des distributions comme <strong>Fedora</strong> ou <strong>AlmaLinux</strong>.
Pour installer <em><strong>dnf</strong></em> sur Ubuntu:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo apt install dnf</span></span></code></pre></div>
  </div>
</details>
<h4 id="exemple-dinstallation-dun-dépôt-sur-ubuntu">Exemple d&rsquo;installation d&rsquo;un dépôt sur Ubuntu</h4>

<details class=" box cstyle notices red expand" name="notice-toggle">
  <summary class="box-label">
    <i class="expander-icon fa-fw fas fa-chevron-right"></i> 
    Installer le dépôt Universe
  </summary>
  <div class="box-content">
<p>Le dépôt <strong>&ldquo;Universe&rdquo;</strong> contient une grande variété de logiciels open-source et de communautés, souvent plus expérimentaux ou non pris en charge officiellement par Ubuntu. Il inclut des outils amusants, des jeux et des utilitaires utiles qui ne sont pas présents dans les dépôts principaux.</p>
<h3 id="exemple-dinstallation-">Exemple d&rsquo;installation :</h3>
<ol>
<li>
<p>Pour ajouter le dépôt <strong>&ldquo;Universe&rdquo;</strong> :</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo add-apt-repository universe
</span></span><span style="display:flex;"><span>sudo apt update</span></span></code></pre></div>
</li>
<li>
<p>Après, on peut installer un jeu amusant ou un utilitaire amusant comme <strong><code>cowsay</code></strong>  :</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo apt install cowsay</span></span></code></pre></div>
</li>
<li>
<p>Pour tester ce logiciel avec :</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cowsay <span style="color:#e6db74">&#34;Bonjour, Ubuntu!&#34;</span></span></span></code></pre></div>
</li>
</ol>
  </div>
</details>
<h3 id="installation-dun-paquet">Installation d&rsquo;un paquet</h3>
<table>
  <thead>
      <tr>
          <th style="text-align: left">Action</th>
          <th style="text-align: left">Commande</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left"><strong>Installer un paquet</strong></td>
          <td style="text-align: left"><code>sudo dnf install -y &lt;paquet&gt;</code> <br> <strong>Exemple :</strong> <br> <code>sudo dnf install -y php-jsonlint</code></td>
      </tr>
  </tbody>
</table>

<details open class=" box cstyle notices info">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-info-circle"></i> 
    Information
  </summary>
  <div class="box-content">
<p>L&rsquo;option <code>-y</code> permet de valider automatiquement l&rsquo;installation, sans avoir à taper <em><strong>Yes</strong></em> (Oui) à chaque demande de validation pendant l&rsquo;installation.</p>
  </div>
</details>
<h3 id="mettre-à-jour-le-système">Mettre à jour le système</h3>
<table>
  <thead>
      <tr>
          <th style="text-align: left">Action</th>
          <th style="text-align: left">Commande</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left"><strong>Mettre à jour tous les paquets installés</strong></td>
          <td style="text-align: left"><code>sudo dnf update</code></td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>Lister les mises à jour disponibles sans les installer</strong></td>
          <td style="text-align: left"><code>dnf check-update</code></td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>Mettre à jour un seul paquet</strong></td>
          <td style="text-align: left"><code>sudo dnf update httpd</code></td>
      </tr>
  </tbody>
</table>
<h3 id="recherche-de-paquets">Recherche de paquets</h3>
<table>
  <thead>
      <tr>
          <th style="text-align: left">Action</th>
          <th style="text-align: left">Commande</th>
          <th style="text-align: left">Exemple</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left"><strong>Trouver un paquet par son nom</strong></td>
          <td style="text-align: left"><code>dnf list &lt;nom_paquet&gt;</code></td>
          <td style="text-align: left"><code>dnf list httpd</code></td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>Rechercher un paquet en fonction de son nom ou description</strong></td>
          <td style="text-align: left"><code>dnf search &lt;nom_paquet&gt;</code></td>
          <td style="text-align: left"><code>dnf search httpd</code></td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>Obtenir des informations sur un paquet</strong></td>
          <td style="text-align: left"><code>dnf info &lt;nom_paquet&gt;*</code></td>
          <td style="text-align: left"><code>dnf info httpd</code></td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>Affiche la liste des paquets installés et/ou disponibles dans les dépôts.</strong></td>
          <td style="text-align: left"><code>dnf list installed</code> <br> <code>dnf list &quot;*&quot;</code></td>
          <td style="text-align: left"></td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>Trouver le paquet qui fourni une commande</strong></td>
          <td style="text-align: left"><code>dnf provides &lt;commande&gt;</code></td>
          <td style="text-align: left"><code>dnf provides /bin/cat</code></td>
      </tr>
  </tbody>
</table>
<h4 id="quand-utiliser-dnf-list-ou-dnf-search">Quand utiliser <em><strong>dnf list</strong></em> ou <em><strong>dnf search</strong></em></h4>
<table>
  <thead>
      <tr>
          <th style="text-align: left">Commande</th>
          <th style="text-align: left">Fonction</th>
          <th style="text-align: left">Affichage</th>
          <th style="text-align: left">Utilisation typique</th>
          <th style="text-align: left">Exemples</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left"><strong><code>dnf list</code></strong></td>
          <td style="text-align: left">Liste les paquets <strong>installés et/ou disponibles</strong></td>
          <td style="text-align: left">Nom du paquet, version, dépôt</td>
          <td style="text-align: left">Vérifier si un paquet est installé ou disponible</td>
          <td style="text-align: left"><code>dnf list installed</code> <br> <code>dnf list available</code> <br> <code>dnf list --installed nano</code></td>
      </tr>
      <tr>
          <td style="text-align: left"><strong><code>dnf search</code></strong></td>
          <td style="text-align: left">Recherche les paquets par mot-clé dans le <strong>nom</strong> et la <strong>description</strong></td>
          <td style="text-align: left">Liste des paquets correspondants</td>
          <td style="text-align: left">Trouver un paquet dont on ne connaît pas le nom exact</td>
          <td style="text-align: left"><code>dnf search text editor</code> <br> <code>dnf search network</code></td>
      </tr>
  </tbody>
</table>
<ul>
<li>Si vous connaissez <strong>le nom exact</strong> du paquet ➝ <code>dnf list</code></li>
<li>Si vous cherchez <strong>un paquet correspondant à un mot-clé</strong> ➝ <code>dnf search</code></li>
</ul>
<h3 id="désinstaller-un-paquet">Désinstaller un paquet</h3>
<table>
  <thead>
      <tr>
          <th style="text-align: left">Action</th>
          <th style="text-align: left">Commande</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left"><strong>Désinstaller un paquet</strong></td>
          <td style="text-align: left"><code>sudo dnf remove &lt;paquet&gt;</code></td>
      </tr>
  </tbody>
</table>
<h3 id="gestion-des-groupes-de-paquets">Gestion des groupes de paquets</h3>
<table>
  <thead>
      <tr>
          <th style="text-align: left">Action</th>
          <th style="text-align: left">Commande</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left"><strong>Lister les groupes de paquets disponibles</strong></td>
          <td style="text-align: left"><code>dnf grouplist</code></td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>Afficher des informations sur un groupe</strong></td>
          <td style="text-align: left"><code>dnf groupinfo &quot;&lt;nom_du_groupe&gt;&quot;</code> <br><strong>Exemple</strong> : <br> <code>dnf groupinfo &quot;Outils internet de la console&quot;</code></td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>Installer un groupe de paquets</strong></td>
          <td style="text-align: left"><code>sudo dnf groupinstall &quot;&lt;nom_du_groupe&gt;&quot;</code> <br><strong>Exemple</strong> : <br> <code>sudo dnf groupinstall &quot;Xfce&quot;</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Astuce :</strong> Utilisez <code>dnf grouplist --hidden</code> pour voir aussi les groupes cachés.</p>
<h3 id="utiliser-le-shell-dnf">Utiliser le shell <em>dnf</em></h3>
<p>Le shell <code>dnf</code> permet d&rsquo;automatiser des installations.</p>
<table>
  <thead>
      <tr>
          <th style="text-align: left">Action</th>
          <th style="text-align: left">Commande</th>
          <th style="text-align: left">Description</th>
          <th style="text-align: left">Exemple</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left"><strong>Lancer le shell</strong></td>
          <td style="text-align: left"><code>dnf shell</code></td>
          <td style="text-align: left">Lance un shell interactif pour exécuter des commandes dnf.</td>
          <td style="text-align: left"><code>dnf shell</code></td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>Créer un fichier d&rsquo;installation automatique</strong></td>
          <td style="text-align: left"><code>bash install &lt;paquet&gt; </code><br><code>bash run</code></td>
          <td style="text-align: left">Crée un fichier d’installation automatique contenant des commandes dnf à exécuter.</td>
          <td style="text-align: left"><code>bash install nmap</code><br><code>bash install zsh</code><br><code>bash run</code></td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>Exécuter ce fichier avec dnf</strong></td>
          <td style="text-align: left"><code>dnf shell &lt;fichier&gt;</code></td>
          <td style="text-align: left">Exécute un fichier d’installation automatique dans le shell dnf.</td>
          <td style="text-align: left"><code>dnf shell installation.txt</code></td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>Exécuter sans confirmation</strong></td>
          <td style="text-align: left"><code>dnf -y shell &lt;fichier&gt;</code></td>
          <td style="text-align: left">Exécute un fichier d&rsquo;installation automatique sans demander de confirmation.</td>
          <td style="text-align: left"><code>dnf -y shell installation.txt</code></td>
      </tr>
  </tbody>
</table>

  <footer class="footline">
  </footer>
</article>
        </div>
      </main>
    </div>
    <aside id="R-sidebar" class="default-animation">
      <div id="R-header-topbar" class="default-animation"></div>
      <div id="R-header-wrapper" class="default-animation">
        <div id="R-header" class="default-animation">
          <a id="R-logo" class="R-default" href="/index.html">
            420-ZG4-MO LINUX
          </a>
        </div>
        <script>
          window.index_js_url="/searchindex.en.js?1743212981";
        </script>
        <search><form action="/search/index.html" method="get">
          <div class="searchbox default-animation">
            <button class="search-detail" type="submit" title="Search (CTRL+ALT+f)"><i class="fas fa-search"></i></button>
            <label class="a11y-only" for="R-search-by">Search</label>
            <input data-search-input id="R-search-by" name="search-by" class="search-by" type="search" placeholder="Search...">
            <button class="search-clear" type="button" data-search-clear="" title="Clear search"><i class="fas fa-times" title="Clear search"></i></button>
          </div>
        </form></search>
        <script>
          var contentLangs=['en'];
        </script>
        <script src="/js/auto-complete.js?1743212981" defer></script>
        <script src="/js/lunr/lunr.min.js?1743212981" defer></script>
        <script src="/js/lunr/lunr.stemmer.support.min.js?1743212981" defer></script>
        <script src="/js/lunr/lunr.multi.min.js?1743212981" defer></script>
        <script src="/js/lunr/lunr.en.min.js?1743212981" defer></script>
        <script src="/js/search.js?1743212981" defer></script>
      </div>
      <div id="R-homelinks" class="default-animation homelinks">
        <ul>
          <li><a class="padding" href="/index.html"><i class="fa-fw fas fa-home"></i> Home</a></li>
        </ul>
        <hr class="padding">
      </div>
      <div id="R-content-wrapper" class="highlightable">
        <div id="R-shortcutmenu-home" class="R-sidebarmenu">
          <ul class="enlarge morespace collapsible-menu">
            <li class="" data-nav-id="/semaine1/index.html"><a class="padding" href="/semaine1/index.html"><b>Semaine 1. </b>Introduction à Linux</a><ul id="R-subsections-6db614d031e1cac329e6c8b2f083c50f" class="collapsible-menu"></ul></li>
            <li class="" data-nav-id="/semaine2/index.html"><a class="padding" href="/semaine2/index.html"><b>Semaine 2. </b>Système de fichiers, Shell, commandes de base, Vim</a><ul id="R-subsections-30aa4391f5b81ccda88d9d93cb48f88e" class="collapsible-menu"></ul></li>
            <li class="" data-nav-id="/semaine3/index.html"><a class="padding" href="/semaine3/index.html"><b>Semaine 3. </b>Processus de démarrage, variables et FOR</a><ul id="R-subsections-20df5992ee4a38745c53049bf1f824d0" class="collapsible-menu"></ul></li>
            <li class="" data-nav-id="/semaine4/index.html"><a class="padding" href="/semaine4/index.html"><b>Semaine 4. </b>Commandes utiles, redirection, chainage et filtrage de commandes et While</a><ul id="R-subsections-dd44d3bf9424b06ca777f829797a2e8c" class="collapsible-menu"></ul></li>
            <li class="" data-nav-id="/semaine5/index.html"><a class="padding" href="/semaine5/index.html"><b>Semaine 5. </b>Les processus Linux</a><ul id="R-subsections-c26f1618e27c79866a5eeda027ce1e7b" class="collapsible-menu"></ul></li>
            <li class="" data-nav-id="/revisiontest2/index.html"><a class="padding" href="/revisiontest2/index.html">TEST #2-Quelques notions à maitriser</a></li>
            <li class="" data-nav-id="/semaine6/index.html"><a class="padding" href="/semaine6/index.html"><b>Semaine 6. </b>Les expressions régulières</a><ul id="R-subsections-3ce40544eeb139416d42a5fc9c160312" class="collapsible-menu"></ul></li>
            <li class="" data-nav-id="/semaine7/index.html"><a class="padding" href="/semaine7/index.html"><b>Semaine 7. </b>Vim, les fichiers de configuration</a><ul id="R-subsections-7ea566d41fb51898f9619db44b97f441" class="collapsible-menu"></ul></li>
            <li class="parent " data-nav-id="/semaine8/index.html"><a class="padding" href="/semaine8/index.html"><b>Semaine 8. </b>DNF et CRON</a><ul id="R-subsections-7bf4c42fec072f49370d66f846070b45" class="collapsible-menu">
            <li class="active " data-nav-id="/semaine8/cours/index.html"><a class="padding" href="/semaine8/cours/index.html">CRON et DNF</a></li>
            <li class="" data-nav-id="/semaine8/atelier/index.html"><a class="padding" href="/semaine8/atelier/index.html">ATELIER #8: Dnf et Cron</a></li></ul></li>
            <li class="" data-nav-id="/semaine9/index.html"><a class="padding" href="/semaine9/index.html"><b>Semaine 9. </b>Variables de paramètres de script et structure IF</a><ul id="R-subsections-1f01a70d85857b8ac721c011c139e3af" class="collapsible-menu"></ul></li>
            <li class="" data-nav-id="/semaine14/index.html"><a class="padding" href="/semaine14/index.html"><b>Semaine 14. </b>WSL installation et manipulation (Ubuntu, VS Code)</a><ul id="R-subsections-de03bfdebbf64f0926849d30677c8008" class="collapsible-menu"></ul></li>
            <li class="" data-nav-id="/solutions/index.html"><a class="padding" href="/solutions/index.html"><b>>></b>Solutions: ateliers et tests</a><ul id="R-subsections-1f39e0195f20d733369e80794849b865" class="collapsible-menu"></ul></li>
            <li class="" data-nav-id="/aidesvm/index.html"><a class="padding" href="/aidesvm/index.html">AidesVMs</a><ul id="R-subsections-5c036ac60ba86fa71184b2c3c6a2c77d" class="collapsible-menu"></ul></li>
          </ul>
        </div>
    
        <div class="padding footermargin footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showFooter"></div>
        <div id="R-menu-footer">
          <hr class="padding default-animation footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showFooter">
          <div id="R-prefooter" class="footerLangSwitch footerVariantSwitch footerVisitedLinks">
            <ul>
              <li id="R-select-language-container" class="footerLangSwitch">
                <div class="padding menu-control">
                  <i class="fa-fw fas fa-language"></i>
                  <span>&nbsp;</span>
                  <div class="control-style">
                    <label class="a11y-only" for="R-select-language">Language</label>
                    <select id="R-select-language" onchange="location = this.querySelector( this.value ).dataset.url;">
                      <option id="R-select-language-en" value="#R-select-language-en" data-url="/semaine8/cours/index.html" lang="en-us" selected></option>
                    </select>
                  </div>
                  <div class="clear"></div>
                </div>
              </li>
              <li id="R-select-variant-container" class="footerVariantSwitch">
                <div class="padding menu-control">
                  <i class="fa-fw fas fa-paint-brush"></i>
                  <span>&nbsp;</span>
                  <div class="control-style">
                    <label class="a11y-only" for="R-select-variant">Theme</label>
                    <select id="R-select-variant" onchange="window.relearn.changeVariant( this.value );">
                      <option id="R-select-variant-auto" value="auto" selected>Auto</option>
                    </select>
                  </div>
                  <div class="clear"></div>
                </div>
                <script>window.relearn.markVariant();</script>
              </li>
              <li class="footerVisitedLinks">
                <div class="padding menu-control">
                  <i class="fa-fw fas fa-history"></i>
                  <span>&nbsp;</span>
                  <div class="control-style">
                    <button onclick="clearHistory();">Clear History</button>
                  </div>
                  <div class="clear"></div>
                </div>
              </li>
            </ul>
          </div>
          <div id="R-footer" class="footerFooter showFooter">
        <p>Built with <a href="https://github.com/McShelby/hugo-theme-relearn" title="love"><i class="fas fa-heart"></i></a> by <a href="https://gohugo.io/">Hugo</a></p>
          </div>
        </div>
      </div>
    </aside>
    <script src="/js/clipboard.min.js?1743212981" defer></script>
    <script src="/js/perfect-scrollbar.min.js?1743212981" defer></script>
    <script src="/js/theme.js?1743212981" defer></script>
  </body>
</html>
