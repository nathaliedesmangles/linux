<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="html">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.135.0">
    <meta name="generator" content="Relearn 7.3.1">
    <meta name="description" content="Les processus Chaque application, chaque commande est un processus.
Certains processus vont s‚Äôex√©cuter jusqu‚Äô√† ce que vous les arr√™tiez, d‚Äôautres vont r√©aliser une t√¢che et s‚Äôarr√™ter tout seul.
Exemple:
Commande Comportement ls S‚Äôex√©cute et se termine imm√©diatement. firefox Ouvre Firefox et reste en ex√©cution emp√™chant l‚Äôutilisation du terminal, jusqu‚Äô√† la fermeture de Firefox. Quand une commande emp√™che l‚Äôutilisation du terminal pendant son ex√©cution, elle s‚Äôex√©cute au premier plan.
Pour permettre l‚Äôutilisation du terminal, il faut lancer l‚Äôapplication bloquante en arri√®re-plan.">
    <meta name="author" content="">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Les processus de Linux :: 420-ZG4-MO LINUX">
    <meta name="twitter:description" content="Les processus Chaque application, chaque commande est un processus.
Certains processus vont s‚Äôex√©cuter jusqu‚Äô√† ce que vous les arr√™tiez, d‚Äôautres vont r√©aliser une t√¢che et s‚Äôarr√™ter tout seul.
Exemple:
Commande Comportement ls S‚Äôex√©cute et se termine imm√©diatement. firefox Ouvre Firefox et reste en ex√©cution emp√™chant l‚Äôutilisation du terminal, jusqu‚Äô√† la fermeture de Firefox. Quand une commande emp√™che l‚Äôutilisation du terminal pendant son ex√©cution, elle s‚Äôex√©cute au premier plan.
Pour permettre l‚Äôutilisation du terminal, il faut lancer l‚Äôapplication bloquante en arri√®re-plan.">
    <meta property="og:url" content="https://example.org/semaine5/cours/index.html">
    <meta property="og:site_name" content="420-ZG4-MO LINUX">
    <meta property="og:title" content="Les processus de Linux :: 420-ZG4-MO LINUX">
    <meta property="og:description" content="Les processus Chaque application, chaque commande est un processus.
Certains processus vont s‚Äôex√©cuter jusqu‚Äô√† ce que vous les arr√™tiez, d‚Äôautres vont r√©aliser une t√¢che et s‚Äôarr√™ter tout seul.
Exemple:
Commande Comportement ls S‚Äôex√©cute et se termine imm√©diatement. firefox Ouvre Firefox et reste en ex√©cution emp√™chant l‚Äôutilisation du terminal, jusqu‚Äô√† la fermeture de Firefox. Quand une commande emp√™che l‚Äôutilisation du terminal pendant son ex√©cution, elle s‚Äôex√©cute au premier plan.
Pour permettre l‚Äôutilisation du terminal, il faut lancer l‚Äôapplication bloquante en arri√®re-plan.">
    <meta property="og:locale" content="en_us">
    <meta property="og:type" content="website">
    <meta itemprop="name" content="Les processus de Linux :: 420-ZG4-MO LINUX">
    <meta itemprop="description" content="Les processus Chaque application, chaque commande est un processus.
Certains processus vont s‚Äôex√©cuter jusqu‚Äô√† ce que vous les arr√™tiez, d‚Äôautres vont r√©aliser une t√¢che et s‚Äôarr√™ter tout seul.
Exemple:
Commande Comportement ls S‚Äôex√©cute et se termine imm√©diatement. firefox Ouvre Firefox et reste en ex√©cution emp√™chant l‚Äôutilisation du terminal, jusqu‚Äô√† la fermeture de Firefox. Quand une commande emp√™che l‚Äôutilisation du terminal pendant son ex√©cution, elle s‚Äôex√©cute au premier plan.
Pour permettre l‚Äôutilisation du terminal, il faut lancer l‚Äôapplication bloquante en arri√®re-plan.">
    <meta itemprop="wordCount" content="1696">
    <title>Les processus de Linux :: 420-ZG4-MO LINUX</title>
    <link href="/semaine5/cours/index.xml" rel="alternate" type="application/rss+xml" title="Les processus de Linux :: 420-ZG4-MO LINUX">
    <link href="/css/fontawesome-all.min.css?1742089970" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/fontawesome-all.min.css?1742089970" rel="stylesheet"></noscript>
    <link href="/css/auto-complete.css?1742089970" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/auto-complete.css?1742089970" rel="stylesheet"></noscript>
    <link href="/css/perfect-scrollbar.min.css?1742089970" rel="stylesheet">
    <link href="/css/theme.min.css?1742089970" rel="stylesheet">
    <link href="/css/format-html.min.css?1742089970" rel="stylesheet" id="R-format-style">
    <script>
      window.relearn = window.relearn || {};
      window.relearn.relBasePath='..\/..';
      window.relearn.relBaseUri='..\/..';
      window.relearn.absBaseUri='https:\/\/example.org';
      window.relearn.min = `.min`;
      window.relearn.disableAnchorCopy=false;
      window.relearn.disableAnchorScrolling=false;
      // variant stuff
      window.relearn.themevariants = [ 'auto' ];
      window.relearn.customvariantname = "my-custom-variant";
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.localStorage.setItem(window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.localStorage.getItem(window.relearn.absBaseUri + "/variant");
        var select = document.querySelector("#R-select-variant");
        if (select) {
          select.value = variant;
        }
      }
      window.relearn.initVariant = function() {
        var variant = window.localStorage.getItem(window.relearn.absBaseUri + "/variant") ?? "";
        if( variant == window.relearn.customvariantname ){
        }else if( !variant || !window.relearn.themevariants.includes(variant) ){
          variant = window.relearn.themevariants[0];
          window.localStorage.setItem(window.relearn.absBaseUri + "/variant", variant);
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
    </script>
  </head>
  <body class="mobile-support html" data-url="/semaine5/cours/index.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide"><button class="topbar-control" onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button>
            </div>
            <div class="topbar-button topbar-button-toc" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="Table of Contents (CTRL&#43;ALT&#43;t)"><i class="fa-fw fas fa-list-alt"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
<nav class="TableOfContents">
  <ul>
    <li><a href="#les-processus">Les processus</a>
      <ul>
        <li><a href="#ex√©cution-en-arri√®re-plan">Ex√©cution en arri√®re-plan</a></li>
        <li><a href="#exercice-1">Exercice 1</a></li>
      </ul>
    </li>
    <li><a href="#affichage-et-gestion-des-processus">Affichage et gestion des processus</a>
      <ul>
        <li><a href="#exercice-2">Exercice 2</a></li>
      </ul>
    </li>
    <li><a href="#√©tats-des-processus">√âtats des processus</a>
      <ul>
        <li><a href="#exercice-3">Exercice 3</a></li>
      </ul>
    </li>
    <li><a href="#ex√©cution-persistante-des-processus">Ex√©cution persistante des processus</a>
      <ul>
        <li><a href="#exercice-4">Exercice 4</a></li>
      </ul>
    </li>
    <li><a href="#codes-de-retour-et-variables-syst√®me">Codes de retour et variables syst√®me</a>
      <ul>
        <li><a href="#exercice-5">Exercice 5</a></li>
      </ul>
    </li>
    <li><a href="#op√©rateurs-de-comparaison-en-bash">Op√©rateurs de comparaison en Bash</a></li>
    <li><a href="#attente-de-la-fin-dex√©cution-dune-commande">Attente de la fin d&rsquo;ex√©cution d&rsquo;une commande</a></li>
    <li><a href="#combinaison-et-synchronisation-des-commandes">Combinaison et synchronisation des commandes</a>
      <ul>
        <li><a href="#op√©rateurs-logiques">Op√©rateurs logiques</a></li>
        <li><a href="#exercice-6--exp√©rimentation-des-op√©rateurs-logiques">Exercice 6 : Exp√©rimentation des op√©rateurs logiques</a></li>
      </ul>
    </li>
    <li><a href="#priorit√©-des-op√©rateurs">Priorit√© des op√©rateurs</a></li>
    <li><a href="#cr√©ation-et-ex√©cution-dun-script-bash">Cr√©ation et ex√©cution d&rsquo;un script Bash</a>
      <ul>
        <li><a href="#cr√©ation-dun-script">Cr√©ation d&rsquo;un script</a></li>
        <li><a href="#ex√©cution-dun-script">Ex√©cution d&rsquo;un script</a></li>
      </ul>
    </li>
    <li><a href="#scripts-concurrents">Scripts concurrents</a>
      <ul>
        <li><a href="#exercice-7">Exercice 7</a></li>
      </ul>
    </li>
  </ul>
</nav>
                </div>
              </div>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="/index.html"><span itemprop="name">420-ZG4-MO Syst√®me d‚Äôexploitation Linux</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="/semaine5/index.html"><span itemprop="name">Les processus Linux</span></a><meta itemprop="position" content="2">&nbsp;>&nbsp;</li><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><span itemprop="name">Les processus de Linux</span><meta itemprop="position" content="3"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-prev" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/semaine5/index.html" title="Les processus Linux (ü°ê)"><i class="fa-fw fas fa-chevron-left"></i></a>
            </div>
            <div class="topbar-button topbar-button-next" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/semaine5/atelier/index.html" title="ATELIER #5: Gestion des processus Linux (ü°í)"><i class="fa-fw fas fa-chevron-right"></i></a>
            </div>
            <div class="topbar-button topbar-button-more" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="More"><i class="fa-fw fas fa-ellipsis-v"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
                  <div class="topbar-area topbar-area-more" data-area="more">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable semaine5" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
  </header>

<h1 id="les-processus-de-linux">Les processus de Linux</h1>

<h2 id="les-processus">Les processus</h2>
<p>Chaque application, chaque commande est un processus.</p>
<p>Certains processus vont s&rsquo;ex√©cuter jusqu&rsquo;√† ce que vous les arr√™tiez, d&rsquo;autres vont r√©aliser une t√¢che et s&rsquo;arr√™ter tout seul.</p>
<blockquote>
<p><strong>Exemple:</strong></p>
</blockquote>
<table>
  <thead>
      <tr>
          <th style="text-align: left">Commande</th>
          <th style="text-align: left">Comportement</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left"><code>ls</code></td>
          <td style="text-align: left">S&rsquo;ex√©cute et se termine imm√©diatement.</td>
      </tr>
      <tr>
          <td style="text-align: left"><code>firefox</code></td>
          <td style="text-align: left">Ouvre Firefox et reste en ex√©cution emp√™chant l&rsquo;utilisation du terminal, jusqu&rsquo;√† la fermeture de Firefox.</td>
      </tr>
  </tbody>
</table>
<p>Quand une commande emp√™che l&rsquo;utilisation du terminal pendant son ex√©cution, elle s&rsquo;ex√©cute au <strong>premier plan</strong>.</p>
<p>Pour permettre l&rsquo;utilisation du terminal, il faut lancer l&rsquo;application bloquante en <strong>arri√®re-plan</strong>.</p>
<h3 id="ex√©cution-en-arri√®re-plan">Ex√©cution en arri√®re-plan</h3>
<p>Deux possibilit√©s :</p>
<ol>
<li><strong>Au lancement</strong> : Ajouter <code>&amp;</code> √† la fin de la commande :
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ firefox &amp;</span></span></code></pre></div>
</li>
<li><strong>Apr√®s lancement</strong> :
<ul>
<li>Suspendre avec <code>Ctrl-z</code></li>
<li>Reprendre en arri√®re-plan avec <code>bg</code></li>
<li>Repasser au premier plan avec <code>fg</code></li>
</ul>
</li>
</ol>
<h3 id="exercice-1">Exercice 1</h3>
<p>Lancez Firefox, passez-le en arri√®re-plan et ramenez-le au premier plan.</p>

<details class=" box cstyle notices green expand" name="notice-toggle">
  <summary class="box-label">
    <i class="expander-icon fa-fw fas fa-chevron-right"></i> 
    Solution&hellip;
  </summary>
  <div class="box-content">
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ firefox &amp;  <span style="color:#75715e"># Lancement en arri√®re-plan</span>
</span></span><span style="display:flex;"><span>$ fg         <span style="color:#75715e"># Ram√®ne au premier plan</span></span></span></code></pre></div>
<p>Pour arr√™ter une commande au premier plan : <code>Ctrl-c</code></p>
  </div>
</details>
<h2 id="affichage-et-gestion-des-processus">Affichage et gestion des processus</h2>
<p>Chaque processus est identifi√© par :</p>
<table>
  <thead>
      <tr>
          <th style="text-align: left">Identifiant</th>
          <th style="text-align: left">Description</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left"><code>pid</code></td>
          <td style="text-align: left">Identifiant unique du processus.</td>
      </tr>
      <tr>
          <td style="text-align: left"><code>ppid</code></td>
          <td style="text-align: left">Identifiant du processus parent.</td>
      </tr>
  </tbody>
</table>
<blockquote>
<p><strong>Exemple:</strong></p>
<p>Si vous lancez une commande √† partir du terminal, celui-ci est le parent du processus cr√©√©.</p>
</blockquote>
<table>
  <thead>
      <tr>
          <th style="text-align: left">Commande</th>
          <th style="text-align: left">Description</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left"><code>ps -f</code></td>
          <td style="text-align: left">Affiche les processus en cours d&rsquo;ex√©cution depuis le terminal.</td>
      </tr>
      <tr>
          <td style="text-align: left"><code>ps -ef</code></td>
          <td style="text-align: left">Affiche les d√©tails de tous les processus du syst√®me.</td>
      </tr>
      <tr>
          <td style="text-align: left"><code>pstree</code></td>
          <td style="text-align: left">Affiche l‚Äôarborescence des processus.</td>
      </tr>
      <tr>
          <td style="text-align: left"><code>top</code></td>
          <td style="text-align: left">Affiche les processus en temps r√©el.</td>
      </tr>
      <tr>
          <td style="text-align: left"><code>kill pid</code></td>
          <td style="text-align: left">Termine un processus avec son <code>pid</code>.</td>
      </tr>
      <tr>
          <td style="text-align: left"><code>kill -9 pid</code></td>
          <td style="text-align: left">Termine imm√©diatement un processus.</td>
      </tr>
      <tr>
          <td style="text-align: left"><code>killall nom_processus</code></td>
          <td style="text-align: left">Termine tous les processus portant un certain nom.</td>
      </tr>
  </tbody>
</table>
<h3 id="exercice-2">Exercice 2</h3>
<p>Utilisez <code>ps</code> pour :</p>
<ul>
<li>Noter le <code>pid</code> de votre shell.</li>
<li>Lancer Firefox an <strong>arri√®re-plan</strong> et observer son <code>pid</code> ainsi que son <code>ppid</code>.</li>
</ul>

<details class=" box cstyle notices green expand" name="notice-toggle">
  <summary class="box-label">
    <i class="expander-icon fa-fw fas fa-chevron-right"></i> 
    Solution&hellip;
  </summary>
  <div class="box-content">
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ ps -ef | grep bash
</span></span><span style="display:flex;"><span>$ firefox &amp;
</span></span><span style="display:flex;"><span>$ ps -ef | grep firefox  <span style="color:#75715e"># Trouver le PID et PPID</span></span></span></code></pre></div>
<p>Le <code>pid</code> du parent de Firefox doit √™tre le <code>pid</code> de votre SHELL.</p>
  </div>
</details>
<h2 id="√©tats-des-processus">√âtats des processus</h2>
<p><a href="#R-image-db8eeddc7300440e0101a6d74b68d02c" class="lightbox-link"><img alt="√âtats des processus" class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="/semaine5/cours/etats.png?width=50vw" style=" height: auto; width: 50vw;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-db8eeddc7300440e0101a6d74b68d02c"><img alt="√âtats des processus" class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="/semaine5/cours/etats.png?width=50vw"></a></p>
<table>
  <thead>
      <tr>
          <th style="text-align: left">√âtat</th>
          <th style="text-align: left">Description</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left"><strong>√âlu</strong></td>
          <td style="text-align: left">En cours d&rsquo;ex√©cution sur le processeur.</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>Pr√™t</strong></td>
          <td style="text-align: left">En attente d&rsquo;ex√©cution, sans attente de ressource.</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>Bloqu√©</strong></td>
          <td style="text-align: left">En attente d&rsquo;une ressource autre que le processeur.</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>Zombie</strong></td>
          <td style="text-align: left">Termin√© mais non encore r√©cup√©r√© par son processus parent.</td>
      </tr>
  </tbody>
</table>
<p>Ces √©tats sont g√©r√©s par l‚Äô<strong>ordonnanceur</strong>.</p>

<details open class=" box cstyle notices primary">
  <summary class="box-label" tabindex="-1">
    L&rsquo;ordonnanceur
  </summary>
  <div class="box-content">
<p>C&rsquo;est la partie du noyau du syst√®me d&rsquo;exploitation <strong>responsable du choix du processus √©lu qui va pouvoir b√©n√©ficier du service du processeur</strong> (et globalement toutes les t√¢ches annexes qui en d√©coulent). Cette t√¢che se nomme <strong>l&rsquo;ordonnancement</strong>.</p>
  </div>
</details>
<h3 id="exercice-3">Exercice 3</h3>
<ul>
<li>Lancez Firefox en arri√®re-plan et notez son <code>pid</code> et <code>ppid</code>.</li>
<li>Tuez son parent.</li>
<li>Quel est le <code>ppid</code> de Firefox maintenant ?</li>
</ul>

<details class=" box cstyle notices green expand" name="notice-toggle">
  <summary class="box-label">
    <i class="expander-icon fa-fw fas fa-chevron-right"></i> 
    Solution&hellip;
  </summary>
  <div class="box-content">
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ firefox &amp;
</span></span><span style="display:flex;"><span>$ ps -ef | grep firefox  <span style="color:#75715e"># Noter PID et PPID</span>
</span></span><span style="display:flex;"><span>$ kill -9 &lt;PPID&gt;  <span style="color:#75715e"># Tuer le parent</span>
</span></span><span style="display:flex;"><span>$ ps -ef | grep firefox  <span style="color:#75715e"># Observer le nouveau PPID (probablement systemd, ou une  instance)</span></span></span></code></pre></div>
<p>Le <code>ppid</code> de firefox est le <code>pid</code> de votre terminal.</p>
  </div>
</details>

<details class=" box cstyle notices green expand" name="notice-toggle">
  <summary class="box-label">
    <i class="expander-icon fa-fw fas fa-chevron-right"></i> 
    Comment se nomme le processus 1?
  </summary>
  <div class="box-content">
<p><em><strong>init</strong></em></p>
  </div>
</details>
<h2 id="ex√©cution-persistante-des-processus">Ex√©cution persistante des processus</h2>
<p>Si un terminal est ferm√©, ses processus sont arr√™t√©s. Pour √©viter cela :</p>
<table>
  <thead>
      <tr>
          <th style="text-align: left">Commande</th>
          <th style="text-align: left">Effet</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left"><code>disown &lt;pid&gt;</code></td>
          <td style="text-align: left">Si le processus est en cours, il se d√©tachera de son terminal.</td>
      </tr>
      <tr>
          <td style="text-align: left"><code>nohup &lt;commande&gt;</code></td>
          <td style="text-align: left">Lance une commande en ignorant les signaux de fermeture du terminal.</td>
      </tr>
  </tbody>
</table>
<h3 id="exercice-4">Exercice 4</h3>
<ol>
<li>
<p>Ex√©cuter <code>grep &lt;fichier&gt;</code>, puis:</p>
<ul>
<li>Noter que cette commande ne se termine pas.</li>
<li>Ouvrir un autre terminal.</li>
<li>Trouver le <code>pid</code> de la commande <code>grep</code>.</li>
<li>Tuer la commande.</li>
</ul>
</li>
<li>
<p>Ouvrir un nouveau terminal,</p>
<ul>
<li>a) Lancer Firefox en arri√®re-plan, fermer le terminal. Que se passe-t-il ?</li>
<li>b) Ex√©cuter <code>disown &lt;pid firefox&gt;</code>, puis lancer Firefox en arri√®re-plan, fermer le terminal. Que se passe-t-il ?</li>
<li>c) Ex√©cuter <code>nohup firefox</code>, puis lancer Firefox en arri√®re-plan, fermer le terminal. Que se passe-t-il ?</li>
</ul>
</li>
</ol>

<details class=" box cstyle notices green expand" name="notice-toggle">
  <summary class="box-label">
    <i class="expander-icon fa-fw fas fa-chevron-right"></i> 
    Solution&hellip;
  </summary>
  <div class="box-content">
<p><strong>1</strong></p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ grep fichier
</span></span><span style="display:flex;"><span>$ ps -ef | grep egrep  <span style="color:#75715e"># Trouver le PID de egrep</span>
</span></span><span style="display:flex;"><span>$ kill -9 &lt;PID de egrep&gt;  <span style="color:#75715e"># Terminer depuis un autre terminal</span></span></span></code></pre></div>
<p><strong>2 a)</strong></p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ firefox &amp;</span></span></code></pre></div>
<p>Apr√®s avoir ferm√© le terminal, Firefox se ferme aussi.</p>
<p><strong>2 b)</strong></p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ disown &lt;PID&gt;
</span></span><span style="display:flex;"><span>$ firefox &amp;</span></span></code></pre></div>
<p><strong>2 c)</strong></p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ nohup 
</span></span><span style="display:flex;"><span>$ firefox &amp;</span></span></code></pre></div>
<p>Avec l&rsquo;utilisation de <code>disown</code> et <code>nohup</code>, le terminal peut √™tre ferm√© mais Firefox reste ouvert.</p>
  </div>
</details>
<h2 id="codes-de-retour-et-variables-syst√®me">Codes de retour et variables syst√®me</h2>
<table>
  <thead>
      <tr>
          <th style="text-align: left">Variable</th>
          <th style="text-align: left">Description</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left"><code>$?</code></td>
          <td style="text-align: left">Code de retour de la derni√®re commande (0 = succ√®s, autre = erreur).</td>
      </tr>
      <tr>
          <td style="text-align: left"><code>$!</code></td>
          <td style="text-align: left"><code>PID</code> de la derni√®re commande ex√©cut√©e en arri√®re-plan.</td>
      </tr>
  </tbody>
</table>
<blockquote>
<p><strong>Exemple:</strong></p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ test -e fichier   
</span></span><span style="display:flex;"><span>$ echo $?  <span style="color:#75715e"># Affiche 0 si le fichier existe, un autre chiffre sinon</span></span></span></code></pre></div>
</blockquote>
<h3 id="exercice-5">Exercice 5</h3>
<ol>
<li>Lancez <code>ls</code>. Quel est son code de retour ? Est-ce un succ√®s ou un √©chec ?</li>
<li>Lancez <code>find / -name &quot;*.conf&quot;</code> sans √™tre root. Quel est le code de retour ? Pourquoi ?</li>
</ol>

<details class=" box cstyle notices green expand" name="notice-toggle">
  <summary class="box-label">
    <i class="expander-icon fa-fw fas fa-chevron-right"></i> 
    Solution&hellip;
  </summary>
  <div class="box-content">
<p><strong>1.</strong></p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ ls
</span></span><span style="display:flex;"><span>$ echo $?</span></span></code></pre></div>
<p>Le code de retour est 0, car <code>ls</code> se termine avec succ√®s.</p>
<p><strong>2.</strong></p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ find / -name <span style="color:#e6db74">&#34;*.conf&#34;</span>
</span></span><span style="display:flex;"><span>$ echo $?  <span style="color:#75715e"># Probablement 1 √† cause des permissions</span></span></span></code></pre></div>
<p>Le code de retour est diff√©rent de 0 (probablement 1), car il y a eu  une erreur (permission: acc√®s refus√©)</p>
  </div>
</details>
<h2 id="op√©rateurs-de-comparaison-en-bash">Op√©rateurs de comparaison en Bash</h2>
<p>Les op√©rateurs de comparaison permettent de tester des valeurs num√©riques dans des conditions.</p>
<table>
  <thead>
      <tr>
          <th style="text-align: left">Op√©rateur</th>
          <th style="text-align: left">Signification</th>
          <th style="text-align: left">Exemple</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left"><code>-eq</code></td>
          <td style="text-align: left">√âgalit√© (<code>equal</code>)</td>
          <td style="text-align: left"><code>test $var -eq 0</code></td>
      </tr>
      <tr>
          <td style="text-align: left"><code>-ne</code></td>
          <td style="text-align: left">Diff√©rence (<code>not equal</code>)</td>
          <td style="text-align: left"><code>test $var -ne 0</code></td>
      </tr>
      <tr>
          <td style="text-align: left"><code>-lt</code></td>
          <td style="text-align: left">Strictement inf√©rieur (<code>less than</code>)</td>
          <td style="text-align: left"><code>test $var -lt 0</code></td>
      </tr>
      <tr>
          <td style="text-align: left"><code>-gt</code></td>
          <td style="text-align: left">Strictement sup√©rieur (<code>greater than</code>)</td>
          <td style="text-align: left"><code>test $var -gt 0</code></td>
      </tr>
      <tr>
          <td style="text-align: left"><code>-le</code></td>
          <td style="text-align: left">Inf√©rieur ou √©gal (<code>less or equal</code>)</td>
          <td style="text-align: left"><code>test $var -le 0</code></td>
      </tr>
      <tr>
          <td style="text-align: left"><code>-ge</code></td>
          <td style="text-align: left">Sup√©rieur ou √©gal (<code>greater or equal</code>)</td>
          <td style="text-align: left"><code>test $var -ge 0</code></td>
      </tr>
  </tbody>
</table>
<h2 id="attente-de-la-fin-dex√©cution-dune-commande">Attente de la fin d&rsquo;ex√©cution d&rsquo;une commande</h2>
<p>Il est possible d&rsquo;attendre qu&rsquo;une commande en arri√®re-plan se termine avant de poursuivre l&rsquo;ex√©cution d&rsquo;autres commandes.</p>
<blockquote>
<p><strong>Exemple :</strong></p>
</blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ cp dossierVolumineux/* destination &amp;
</span></span><span style="display:flex;"><span>$ wait $!</span></span></code></pre></div>
<p><code>wait</code>  attend que la copie en arri√®re-plan soit termin√©e avant de poursuivre.</p>
<p>Dans un script, on peut attendre plusieurs commandes ex√©cut√©es en arri√®re-plan :</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e">#!/bin/bash
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>cp dossier1/* destination1 &amp;
</span></span><span style="display:flex;"><span>cp dossier2/* destination2 &amp;
</span></span><span style="display:flex;"><span>wait 
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;Toutes les copies sont termin√©es.&#34;</span></span></span></code></pre></div>
<h2 id="combinaison-et-synchronisation-des-commandes">Combinaison et synchronisation des commandes</h2>
<h3 id="op√©rateurs-logiques">Op√©rateurs logiques</h3>
<table>
  <thead>
      <tr>
          <th style="text-align: left">Op√©rateur</th>
          <th style="text-align: left">Exemple</th>
          <th style="text-align: left">Fonctionnement</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left"><code>;</code></td>
          <td style="text-align: left"><code>$ commande1 ; commande2</code></td>
          <td style="text-align: left"><code>commande2</code> s‚Äôex√©cute une fois que <code>commande1</code> se termine, ind√©pendamment du succ√®s ou de l&rsquo;√©chec.</td>
      </tr>
      <tr>
          <td style="text-align: left"><code>&amp;</code></td>
          <td style="text-align: left"><code>$ commande1 &amp; commande2 &amp;</code></td>
          <td style="text-align: left">Les commandes s&rsquo;ex√©cutent en parall√®le, simultan√©ment.</td>
      </tr>
      <tr>
          <td style="text-align: left"><code>&amp;&amp;</code></td>
          <td style="text-align: left"><code>$ commande1 &amp;&amp; commande2</code></td>
          <td style="text-align: left"><code>commande2</code> s‚Äôex√©cute si <code>commande1</code> r√©ussit.</td>
      </tr>
      <tr>
          <td style="text-align: left"><code>||</code></td>
          <td style="text-align: left"><code>$ commande1 || commande2</code></td>
          <td style="text-align: left"><code>commande2</code> s‚Äôex√©cute si <code>commande1</code> √©choue.</td>
      </tr>
  </tbody>
</table>
<blockquote>
<p><strong>Exemples :</strong></p>
</blockquote>
<p>Tester l&rsquo;existence d&rsquo;un fichier avant d&rsquo;ex√©cuter une commande :</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ test -e fichier <span style="color:#f92672">&amp;&amp;</span> commande</span></span></code></pre></div>
<p>Afficher &ldquo;OK&rdquo; si la commande r√©ussit :</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ commande <span style="color:#f92672">&amp;&amp;</span> echo <span style="color:#e6db74">&#34;OK&#34;</span></span></span></code></pre></div>
<p>Afficher &ldquo;ERREUR&rdquo; si la commande √©choue :</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ commande <span style="color:#f92672">||</span> echo <span style="color:#e6db74">&#34;ERREUR&#34;</span></span></span></code></pre></div>
<p>Afficher &ldquo;OK&rdquo; si la commande r√©ussit, sinon &ldquo;ERREUR&rdquo; :</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ test $var -eq <span style="color:#ae81ff">0</span> <span style="color:#f92672">&amp;&amp;</span> echo <span style="color:#e6db74">&#34;OK&#34;</span> <span style="color:#f92672">||</span> echo <span style="color:#e6db74">&#34;ERREUR&#34;</span></span></span></code></pre></div>
<p>C&rsquo;est l&rsquo;√©quivalent d&rsquo;un SI var = 0 ALORS affiche &ldquo;OK&rdquo;, SINON affiche &ldquo;ERREUR&rdquo;.</p>
<h3 id="exercice-6--exp√©rimentation-des-op√©rateurs-logiques">Exercice 6 : Exp√©rimentation des op√©rateurs logiques</h3>
<ol>
<li>
<p>Ex√©cutez :</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ find / -name <span style="color:#e6db74">&#34;*.conf&#34;</span> <span style="color:#f92672">&amp;&amp;</span> ls</span></span></code></pre></div>
<ul>
<li>Les deux commandes s&rsquo;ex√©cutent elles ? Inversez-les et observez le r√©sultat.</li>
</ul>
</li>
<li>
<p>Ex√©cutez :</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ find / -name <span style="color:#e6db74">&#34;*.conf&#34;</span> <span style="color:#f92672">||</span> ls</span></span></code></pre></div>
<ul>
<li>Les deux commandes s&rsquo;ex√©cutent elles ? Inversez-les et observez le r√©sultat.</li>
</ul>
</li>
<li>
<p>Ex√©cutez :</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ find / -name <span style="color:#e6db74">&#34;*.conf&#34;</span> &amp; ls &amp;</span></span></code></pre></div>
<ul>
<li>Les deux commandes s&rsquo;ex√©cutent elles en parall√®le ?</li>
</ul>
</li>
</ol>

<details class=" box cstyle notices green expand" name="notice-toggle">
  <summary class="box-label">
    <i class="expander-icon fa-fw fas fa-chevron-right"></i> 
    Solution&hellip;
  </summary>
  <div class="box-content">
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ find / -name <span style="color:#e6db74">&#34;*.conf&#34;</span> <span style="color:#f92672">&amp;&amp;</span> ls </span></span></code></pre></div>
<p><code>ls</code> s&rsquo;ex√©cute si <code>find</code> r√©ussit.</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ find / -name <span style="color:#e6db74">&#34;*.conf&#34;</span> <span style="color:#f92672">||</span> ls</span></span></code></pre></div>
<p><code>ls</code> s&rsquo;ex√©cute si <code>find</code> √©choue</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ find / -name <span style="color:#e6db74">&#34;*.conf&#34;</span> &amp; ls &amp;</span></span></code></pre></div>
<p>Les deux commendes s&rsquo;ex√©cutent simultan√©ment.</p>
  </div>
</details>
<h2 id="priorit√©-des-op√©rateurs">Priorit√© des op√©rateurs</h2>
<p>On peut utiliser des parenth√®ses pour organiser l&rsquo;ordre d&rsquo;ex√©cution des op√©rateurs :</p>
<blockquote>
<p><strong>Exemple :</strong></p>
</blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ <span style="color:#f92672">(</span>find / -name <span style="color:#e6db74">&#34;*.conf&#34;</span> 2&gt;/dev/null <span style="color:#f92672">||</span> ls<span style="color:#f92672">)</span> | grep a</span></span></code></pre></div>
<p>Dans cet exemple :</p>
<ul>
<li><code>find</code> est ex√©cut√© en premier. Si une erreur survient, <code>ls</code> prend le relais.</li>
<li>Ensuite, <code>grep</code> filtre les r√©sultats.</li>
</ul>
<p>Si on √©crit :</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ find / -name <span style="color:#e6db74">&#34;*.conf&#34;</span> 2&gt;/dev/null <span style="color:#f92672">||</span> <span style="color:#f92672">(</span>ls | grep a<span style="color:#f92672">)</span></span></span></code></pre></div>
<p>Seul le r√©sultat de <code>ls</code> sera filtr√© par <code>grep</code> en cas d&rsquo;√©chec de <code>find</code>.</p>
<h2 id="cr√©ation-et-ex√©cution-dun-script-bash">Cr√©ation et ex√©cution d&rsquo;un script Bash</h2>
<p>Un script Bash est un fichier <code>.sh</code> contenant une s√©rie de commandes.</p>
<h3 id="cr√©ation-dun-script">Cr√©ation d&rsquo;un script</h3>
<ol>
<li>Ouvrir un fichier avec Vim :
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ vim monscript.sh</span></span></code></pre></div>
</li>
<li>Ajouter l&rsquo;en-t√™te (1re ligne) du script :
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e">#!/bin/bash</span></span></span></code></pre></div>
Elle n&rsquo;est pas obligatoire, mais <strong>pour ce cours</strong>, cette ligne DOIT TOUJOURS √™tre pr√©sente. Il faut aussi comprendre son utilit√©.</li>
<li>√âcrire les commandes et ajouter des commentaires (pr√©c√©d√©s de <code>#</code>).</li>
</ol>
<blockquote>
<p><strong>Exemple : fichier monscript.sh</strong></p>
</blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e">#!/bin/bash
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>echo <span style="color:#e6db74">&#34;Bonjour tout le monde&#34;</span>
</span></span><span style="display:flex;"><span>pwd
</span></span><span style="display:flex;"><span>touch fiche<span style="color:#f92672">{</span>1..5<span style="color:#f92672">}</span>.txt</span></span></code></pre></div>
<h3 id="ex√©cution-dun-script">Ex√©cution d&rsquo;un script</h3>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ bash chemin_vers_monscript.sh</span></span></code></pre></div>
<h2 id="scripts-concurrents">Scripts concurrents</h2>
<p>Un script concurrent contient des commandes ex√©cut√©es <strong>en arri√®re-plan</strong>.</p>
<blockquote>
<p><strong>Exemple :</strong></p>
</blockquote>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e">#!/bin/bash
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#f92672">(</span>echo <span style="color:#e6db74">&#34;D√©but copie dossier 1&#34;</span>; cp dossier1/* destination1; echo <span style="color:#e6db74">&#34;Fin copie&#34;</span><span style="color:#f92672">)</span> &amp;
</span></span><span style="display:flex;"><span><span style="color:#f92672">(</span>echo <span style="color:#e6db74">&#34;D√©but copie dossier 2&#34;</span>; cp dossier2/* destination2; echo <span style="color:#e6db74">&#34;Fin copie&#34;</span><span style="color:#f92672">)</span> &amp;
</span></span><span style="display:flex;"><span>wait
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;Toutes les copies sont termin√©es.&#34;</span></span></span></code></pre></div>
<p>Dans cet exemple :</p>
<ul>
<li>Chaque copie est lanc√©e en arri√®re-plan avec <code>&amp;</code>.</li>
<li><code>wait</code> garantit que le script affiche &ldquo;Toutes les copies sont termin√©es&rdquo; uniquement apr√®s la fin des copies.</li>
</ul>
<p>Un autre exemple avec <code>sleep</code> :</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e">#!/bin/bash
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#f92672">(</span>sleep 15; echo <span style="color:#e6db74">&#34;Pause de 15 secondes termin√©e&#34;</span><span style="color:#f92672">)</span> &amp;
</span></span><span style="display:flex;"><span><span style="color:#f92672">(</span>sleep 20; echo <span style="color:#e6db74">&#34;Pause de 20 secondes termin√©e&#34;</span><span style="color:#f92672">)</span> &amp;
</span></span><span style="display:flex;"><span><span style="color:#f92672">(</span>sleep 3; echo <span style="color:#e6db74">&#34;Pause de 3 secondes termin√©e&#34;</span><span style="color:#f92672">)</span> &amp;
</span></span><span style="display:flex;"><span>wait
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;R√©veillez-vous, toutes les pauses sont termin√©es !&#34;</span></span></span></code></pre></div>
<p>Ce script Bash lance trois commandes <code>sleep</code> en parall√®le, chacune suivie d&rsquo;un message indiquant la fin de la pause.</p>
<p><strong>Explication</strong> :</p>
<ol>
<li>
<p><strong>Lancement en arri√®re-plan (<code>&amp;</code>)</strong> :</p>
<ul>
<li><code>sleep 15</code> attend 15 secondes avant d&rsquo;afficher &ldquo;Pause de 15 secondes termin√©e&rdquo;.</li>
<li><code>sleep 20</code> attend 20 secondes avant d&rsquo;afficher &ldquo;Pause de 20 secondes termin√©e&rdquo;.</li>
<li><code>sleep 3</code> attend 3 secondes avant d&rsquo;afficher &ldquo;Pause de 3 secondes termin√©e&rdquo;.</li>
</ul>
<p>Chaque commande est ex√©cut√©e en arri√®re-plan gr√¢ce au <code>&amp;</code>, ce qui signifie qu&rsquo;elles d√©marrent imm√©diatement et ne bloquent pas l&rsquo;ex√©cution du script.</p>
</li>
<li>
<p><strong><code>wait</code></strong> :</p>
<ul>
<li>Cette commande attend que <strong>toutes</strong> les t√¢ches en arri√®re-plan soient termin√©es avant de poursuivre.</li>
</ul>
</li>
<li>
<p><strong>Affichage final</strong> :</p>
<ul>
<li>Une fois toutes les pauses termin√©es, appuyer sur <code>Entr√©e</code>, le script affiche <code>&quot;R√©veillez-vous, toutes les pauses sont termin√©es !&quot;</code>.</li>
</ul>
</li>
</ol>
<h3 id="exercice-7">Exercice 7</h3>
<ol>
<li>Ex√©cutez un script avec <code>sleep 15</code>, <code>sleep 20</code>, et <code>sleep 3</code> en parall√®le.</li>
<li>Dans quel ordre s&rsquo;afficheront les messages ?</li>
<li>Que se passe-t-il si vous retirez <code>wait</code> ?</li>
</ol>

<details class=" box cstyle notices green expand" name="notice-toggle">
  <summary class="box-label">
    <i class="expander-icon fa-fw fas fa-chevron-right"></i> 
    Solution&hellip;
  </summary>
  <div class="box-content">
<ol start="2">
<li>L&rsquo;ordre d&rsquo;affichage:</li>
</ol>
<ul>
<li>Apr√®s <strong>3 secondes</strong> ‚Üí <code>&quot;Pause de 3 secondes termin√©e&quot;</code></li>
<li>Apr√®s <strong>15 secondes</strong> ‚Üí <code>&quot;Pause de 15 secondes termin√©e&quot;</code></li>
<li>Apr√®s <strong>20 secondes</strong> ‚Üí <code>&quot;Pause de 20 secondes termin√©e&quot;</code></li>
<li>Enfin, lorsque toutes les commandes sont termin√©es ‚Üí `&ldquo;R√©veillez-vous, toutes les pauses sont termin√©es !&rdquo;</li>
</ul>
<ol start="3">
<li>Si on enl√®ve <code>wait</code>, le script pourrait afficher imm√©diatement le dernier message avant la fin des <code>sleep</code>.</li>
</ol>
  </div>
</details>
<p>`</p>

  <footer class="footline">
  </footer>
</article>
        </div>
      </main>
    </div>
    <aside id="R-sidebar" class="default-animation">
      <div id="R-header-topbar" class="default-animation"></div>
      <div id="R-header-wrapper" class="default-animation">
        <div id="R-header" class="default-animation">
          <a id="R-logo" class="R-default" href="/index.html">
            420-ZG4-MO LINUX
          </a>
        </div>
        <script>
          window.index_js_url="/searchindex.en.js?1742089970";
        </script>
        <search><form action="/search/index.html" method="get">
          <div class="searchbox default-animation">
            <button class="search-detail" type="submit" title="Search (CTRL+ALT+f)"><i class="fas fa-search"></i></button>
            <label class="a11y-only" for="R-search-by">Search</label>
            <input data-search-input id="R-search-by" name="search-by" class="search-by" type="search" placeholder="Search...">
            <button class="search-clear" type="button" data-search-clear="" title="Clear search"><i class="fas fa-times" title="Clear search"></i></button>
          </div>
        </form></search>
        <script>
          var contentLangs=['en'];
        </script>
        <script src="/js/auto-complete.js?1742089970" defer></script>
        <script src="/js/lunr/lunr.min.js?1742089970" defer></script>
        <script src="/js/lunr/lunr.stemmer.support.min.js?1742089970" defer></script>
        <script src="/js/lunr/lunr.multi.min.js?1742089970" defer></script>
        <script src="/js/lunr/lunr.en.min.js?1742089970" defer></script>
        <script src="/js/search.js?1742089970" defer></script>
      </div>
      <div id="R-homelinks" class="default-animation homelinks">
        <ul>
          <li><a class="padding" href="/index.html"><i class="fa-fw fas fa-home"></i> Home</a></li>
        </ul>
        <hr class="padding">
      </div>
      <div id="R-content-wrapper" class="highlightable">
        <div id="R-shortcutmenu-home" class="R-sidebarmenu">
          <ul class="enlarge morespace collapsible-menu">
            <li class="" data-nav-id="/semaine1/index.html"><a class="padding" href="/semaine1/index.html"><b>Semaine 1. </b>Introduction √† Linux</a><ul id="R-subsections-6db614d031e1cac329e6c8b2f083c50f" class="collapsible-menu"></ul></li>
            <li class="" data-nav-id="/semaine2/index.html"><a class="padding" href="/semaine2/index.html"><b>Semaine 2. </b>Syst√®me de fichiers, Shell, commandes de base, Vim</a><ul id="R-subsections-30aa4391f5b81ccda88d9d93cb48f88e" class="collapsible-menu"></ul></li>
            <li class="" data-nav-id="/semaine3/index.html"><a class="padding" href="/semaine3/index.html"><b>Semaine 3. </b>Processus de d√©marrage, variables et FOR</a><ul id="R-subsections-20df5992ee4a38745c53049bf1f824d0" class="collapsible-menu"></ul></li>
            <li class="" data-nav-id="/semaine4/index.html"><a class="padding" href="/semaine4/index.html"><b>Semaine 4. </b>Commandes utiles, redirection, chainage et filtrage de commandes et While</a><ul id="R-subsections-dd44d3bf9424b06ca777f829797a2e8c" class="collapsible-menu"></ul></li>
            <li class="parent " data-nav-id="/semaine5/index.html"><a class="padding" href="/semaine5/index.html"><b>Semaine 5. </b>Les processus Linux</a><ul id="R-subsections-c26f1618e27c79866a5eeda027ce1e7b" class="collapsible-menu">
            <li class="active " data-nav-id="/semaine5/cours/index.html"><a class="padding" href="/semaine5/cours/index.html">Les processus de Linux</a></li>
            <li class="" data-nav-id="/semaine5/atelier/index.html"><a class="padding" href="/semaine5/atelier/index.html">ATELIER #5: Gestion des processus Linux</a></li></ul></li>
            <li class="" data-nav-id="/revisiontest2/index.html"><a class="padding" href="/revisiontest2/index.html">TEST #2-Quelques notions √† maitriser</a></li>
            <li class="" data-nav-id="/semaine6/index.html"><a class="padding" href="/semaine6/index.html"><b>Semaine 6. </b>Les expressions r√©guli√®res</a><ul id="R-subsections-3ce40544eeb139416d42a5fc9c160312" class="collapsible-menu"></ul></li>
            <li class="" data-nav-id="/semaine7/index.html"><a class="padding" href="/semaine7/index.html"><b>Semaine 7. </b>Vim et les fichiers de configuration</a><ul id="R-subsections-7ea566d41fb51898f9619db44b97f441" class="collapsible-menu"></ul></li>
            <li class="" data-nav-id="/semaine14/index.html"><a class="padding" href="/semaine14/index.html"><b>Semaine 14. </b>WSL installation et manipulation (Ubuntu, VS Code)</a><ul id="R-subsections-de03bfdebbf64f0926849d30677c8008" class="collapsible-menu"></ul></li>
            <li class="" data-nav-id="/solutions/index.html"><a class="padding" href="/solutions/index.html"><b>>></b>Solutions: ateliers et tests</a><ul id="R-subsections-1f39e0195f20d733369e80794849b865" class="collapsible-menu"></ul></li>
            <li class="" data-nav-id="/aidesvm/index.html"><a class="padding" href="/aidesvm/index.html">AidesVMs</a><ul id="R-subsections-5c036ac60ba86fa71184b2c3c6a2c77d" class="collapsible-menu"></ul></li>
          </ul>
        </div>
    
        <div class="padding footermargin footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showFooter"></div>
        <div id="R-menu-footer">
          <hr class="padding default-animation footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showFooter">
          <div id="R-prefooter" class="footerLangSwitch footerVariantSwitch footerVisitedLinks">
            <ul>
              <li id="R-select-language-container" class="footerLangSwitch">
                <div class="padding menu-control">
                  <i class="fa-fw fas fa-language"></i>
                  <span>&nbsp;</span>
                  <div class="control-style">
                    <label class="a11y-only" for="R-select-language">Language</label>
                    <select id="R-select-language" onchange="location = this.querySelector( this.value ).dataset.url;">
                      <option id="R-select-language-en" value="#R-select-language-en" data-url="/semaine5/cours/index.html" lang="en-us" selected></option>
                    </select>
                  </div>
                  <div class="clear"></div>
                </div>
              </li>
              <li id="R-select-variant-container" class="footerVariantSwitch">
                <div class="padding menu-control">
                  <i class="fa-fw fas fa-paint-brush"></i>
                  <span>&nbsp;</span>
                  <div class="control-style">
                    <label class="a11y-only" for="R-select-variant">Theme</label>
                    <select id="R-select-variant" onchange="window.relearn.changeVariant( this.value );">
                      <option id="R-select-variant-auto" value="auto" selected>Auto</option>
                    </select>
                  </div>
                  <div class="clear"></div>
                </div>
                <script>window.relearn.markVariant();</script>
              </li>
              <li class="footerVisitedLinks">
                <div class="padding menu-control">
                  <i class="fa-fw fas fa-history"></i>
                  <span>&nbsp;</span>
                  <div class="control-style">
                    <button onclick="clearHistory();">Clear History</button>
                  </div>
                  <div class="clear"></div>
                </div>
              </li>
            </ul>
          </div>
          <div id="R-footer" class="footerFooter showFooter">
        <p>Built with <a href="https://github.com/McShelby/hugo-theme-relearn" title="love"><i class="fas fa-heart"></i></a> by <a href="https://gohugo.io/">Hugo</a></p>
          </div>
        </div>
      </div>
    </aside>
    <script src="/js/clipboard.min.js?1742089970" defer></script>
    <script src="/js/perfect-scrollbar.min.js?1742089970" defer></script>
    <script src="/js/theme.js?1742089970" defer></script>
  </body>
</html>
